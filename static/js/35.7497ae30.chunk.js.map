{"version":3,"file":"static/js/35.7497ae30.chunk.js","mappings":"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","sources":["components/common/DropDown.tsx","types.ts","components/common/Input.tsx","components/filters/Filters.tsx","components/table/Table.tsx","api/config.ts","api/country.ts","pages/Main/useMain.ts","utils.ts","pages/Main/Main.tsx"],"sourcesContent":["import { useState, FC } from \"react\";\r\nimport { TextField, Typography, Autocomplete } from \"@mui/material\";\r\nimport { EDropType } from \"../../types\";\r\n\r\ninterface Props {\r\n  label: EDropType;\r\n  options: string[];\r\n  size: \"small\" | \"medium\";\r\n  handleDropDowns: (value: string | null, type: EDropType) => void;\r\n}\r\n\r\nconst DropDown: FC<Props> = ({ size, options, label, handleDropDowns }) => {\r\n  const [value, setValue] = useState<string | null>(null);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  // TODO: event fixe typification\r\n  const handleValueChange = (_: any, newValue: string | null) => {\r\n    setValue(newValue);\r\n    handleDropDowns(newValue, label);\r\n  };\r\n\r\n  return (\r\n    <Typography component=\"div\">\r\n      <Autocomplete\r\n        size={size}\r\n        value={value}\r\n        onChange={handleValueChange}\r\n        inputValue={inputValue}\r\n        onInputChange={(_, newInputValue) => {\r\n          setInputValue(newInputValue);\r\n        }}\r\n        options={options}\r\n        sx={{ width: 300 }}\r\n        renderInput={(params) => <TextField {...params} label={label} />}\r\n      />\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default DropDown;\r\n","export interface IData {\r\n  country: string;\r\n  region: string;\r\n  population: number;\r\n  area: number;\r\n  flag: {\r\n    png: string;\r\n    svg: string;\r\n    alt: string;\r\n  };\r\n}\r\n\r\nexport enum EDropType {\r\n  sortBy = \"Sort by\",\r\n  regions = \"Regions\",\r\n}\r\n","import { FC, ChangeEvent } from \"react\";\r\nimport { TextField } from \"@mui/material\";\r\n\r\ninterface Props {\r\n  search: string;\r\n  handleInput: (name: string) => void;\r\n}\r\n\r\nconst Input: FC<Props> = ({ search, handleInput }) => {\r\n  const handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const value = e?.target?.value;\r\n    handleInput(value);\r\n  };\r\n\r\n  return (\r\n    <TextField\r\n      size=\"medium\"\r\n      label=\"Search\"\r\n      placeholder=\"Search\"\r\n      value={search}\r\n      onChange={handleSearch}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { FC } from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport DropDown from \"../common/DropDown\";\r\nimport { EDropType } from \"../../types\";\r\nimport Input from \"../common/Input\";\r\n\r\ninterface Props {\r\n  search: string;\r\n  handleInput: (name: string) => void;\r\n  handleDropDowns: (value: string | null, type: EDropType) => void;\r\n}\r\n\r\nconst Filters: FC<Props> = ({ search, handleDropDowns, handleInput }) => {\r\n  const regionOptions = [\r\n    \"Africa\",\r\n    \"Europe\",\r\n    \"Asia\",\r\n    \"Oceania\",\r\n    \"Australia\",\r\n    \"North America\",\r\n    \"South America\",\r\n  ];\r\n  const sortOptions = [\"Population\", \"Area\"];\r\n\r\n  return (\r\n    <Typography component=\"div\">\r\n      <Typography component=\"div\" variant=\"h5\" sx={{ fontWeight: \"bold\" }}>\r\n        Filter\r\n      </Typography>\r\n\r\n      <Typography\r\n        component=\"div\"\r\n        sx={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <Typography component=\"div\" sx={{ display: \"flex\", gap: \"20px\" }}>\r\n          <Input search={search} handleInput={handleInput} />\r\n          <DropDown\r\n            size=\"medium\"\r\n            options={regionOptions}\r\n            label={EDropType.regions}\r\n            handleDropDowns={handleDropDowns}\r\n          />\r\n        </Typography>\r\n\r\n        <DropDown\r\n          size=\"small\"\r\n          options={sortOptions}\r\n          label={EDropType.sortBy}\r\n          handleDropDowns={handleDropDowns}\r\n        />\r\n      </Typography>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default Filters;\r\n","import { FC } from \"react\";\r\nimport {\r\n  Paper,\r\n  TableRow,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  Typography,\r\n  IconButton,\r\n  TableContainer,\r\n  Table as TableM,\r\n} from \"@mui/material\";\r\nimport { CloseOutlined } from \"@mui/icons-material\";\r\nimport { IData } from \"../../types\";\r\n\r\ninterface Props {\r\n  countries: IData[] | [];\r\n  handleDeleteCountry: (name: string) => void;\r\n}\r\n\r\nconst Table: FC<Props> = ({ countries, handleDeleteCountry }) => {\r\n  const headers: string[] = [\r\n    \"country\",\r\n    \"region\",\r\n    \"population(2023)\",\r\n    \"area\",\r\n    \"flag\",\r\n    \"icon\",\r\n  ];\r\n\r\n  return (\r\n    <Typography component=\"div\">\r\n      <TableContainer component={Paper}>\r\n        <TableM sx={{ minWidth: 650 }}>\r\n          <TableHead sx={{ background: \"lightgrey\" }}>\r\n            <TableRow>\r\n              {headers?.map((item) => {\r\n                return (\r\n                  <TableCell key={item}>\r\n                    <Typography\r\n                      component=\"span\"\r\n                      sx={{ visibility: item === \"icon\" ? \"hidden\" : \"\" }}\r\n                    >\r\n                      {item?.toUpperCase()}\r\n                    </Typography>\r\n                  </TableCell>\r\n                );\r\n              })}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {countries?.map((row: IData) => (\r\n              <TableRow key={row?.country}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  <Typography component=\"span\" sx={{ fontWeight: 600 }}>\r\n                    {row?.country}\r\n                  </Typography>\r\n                </TableCell>\r\n                <TableCell>{row?.region}</TableCell>\r\n                <TableCell>{row?.population}</TableCell>\r\n                <TableCell>{row?.area}</TableCell>\r\n                <TableCell>\r\n                  <Typography\r\n                    width=\"40px\"\r\n                    component=\"img\"\r\n                    src={row?.flag?.svg}\r\n                    alt={row?.flag?.alt}\r\n                  />\r\n                </TableCell>\r\n                <TableCell\r\n                  align=\"right\"\r\n                  sx={{ width: \"73px\", border: \"1px solid lightgrey\" }}\r\n                >\r\n                  <IconButton\r\n                    sx={{ background: \"lightgrey\" }}\r\n                    onClick={() => handleDeleteCountry(row?.country)}\r\n                  >\r\n                    <CloseOutlined />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </TableM>\r\n      </TableContainer>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import axios, {\r\n  AxiosError,\r\n  AxiosResponse,\r\n  InternalAxiosRequestConfig,\r\n} from \"axios\";\r\nimport { store } from \"../store/store\";\r\nimport { setLoading } from \"../store/features/main/mainSlice\";\r\n\r\nexport const base =\r\n  // TODO: should be in env file\r\n  process.env.REACT_APP_API_BASE_URL || \"https://restcountries.com/v3.1/\";\r\n\r\nexport const publicApi = axios.create({ baseURL: base });\r\n\r\nexport const errorHandler = (error: AxiosError | Error) => {\r\n  store.dispatch(setLoading(false));\r\n\r\n  // TODO: handle error\r\n  console.log(error.message);\r\n};\r\n\r\npublicApi.interceptors.request.use((request: InternalAxiosRequestConfig) => {\r\n  store.dispatch(setLoading(true));\r\n  return request;\r\n}, errorHandler);\r\n\r\npublicApi.interceptors.response.use((response: AxiosResponse) => {\r\n  store.dispatch(setLoading(false));\r\n  return response;\r\n}, errorHandler);\r\n","import { publicApi } from \"./config\";\r\n\r\nexport const getAllCountries = async () => {\r\n  // NOTE: api does not provide 'limit' property\r\n  const response = await publicApi.get(\"all\");\r\n  return response?.data;\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { EDropType, IData } from \"../../types\";\r\nimport { formatResponseData } from \"../../utils\";\r\nimport { getAllCountries } from \"../../api/country\";\r\n\r\nconst useMain = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [sortingField, setSortingField] = useState<string>(\"\");\r\n  const [countries, setCountries] = useState<IData[] | []>([]);\r\n  const [countriesCopy, setCountriesCopy] = useState<IData[] | []>([]);\r\n\r\n  const handleDeleteCountry = (name: string) => {\r\n    const newCountries = countries.filter((item) => item?.country !== name);\r\n    setCountries(newCountries);\r\n  };\r\n\r\n  const handleDropDowns = (value: string | null, type: EDropType) => {\r\n    if (!value && type === EDropType.regions) {\r\n      // NOTE: when user clicks on 'x' can be used as reset.\r\n      // setCountries(countriesCopy);\r\n      return;\r\n    }\r\n\r\n    if (type === EDropType.regions) {\r\n      const newCountries = countriesCopy.filter(\r\n        (item) => item?.region === value\r\n      );\r\n      setCountries(newCountries);\r\n    }\r\n\r\n    if (type === EDropType.sortBy) {\r\n      const field = value?.toLowerCase() || \"\";\r\n      setSortingField(field);\r\n    }\r\n  };\r\n\r\n  // TODO: handle with a delay (debounce function)\r\n  const handleInput = (name: string) => {\r\n    setSearch(name);\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await getAllCountries();\r\n      const formattedData = formatResponseData(response?.slice(0, 40));\r\n      setCountries((prevData) => formattedData);\r\n      setCountriesCopy((prevData) => formattedData);\r\n    })();\r\n  }, []);\r\n\r\n  const finalData = [...countries]\r\n    .sort(\r\n      (a: IData, b: IData) =>\r\n        +a[sortingField as keyof IData] - +b[sortingField as keyof IData]\r\n    )\r\n    .filter((item) =>\r\n      item?.country?.toLowerCase()?.includes(search?.toLowerCase())\r\n    );\r\n\r\n  return {\r\n    search,\r\n    finalData,\r\n    sortingField,\r\n    handleInput,\r\n    handleDropDowns,\r\n    handleDeleteCountry,\r\n  };\r\n};\r\n\r\nexport default useMain;\r\n","// TODO: fixe typification\r\nexport function formatResponseData<T>(res: T[]) {\r\n  if (!res?.length) return [];\r\n\r\n  const data = res?.map((item: any) => {\r\n    return {\r\n      country: item?.name?.common,\r\n      region: item?.region,\r\n      population: item?.population,\r\n      area: item?.area,\r\n      flag: item?.flags,\r\n    };\r\n  });\r\n\r\n  return data;\r\n}\r\n","import { Typography } from \"@mui/material\";\r\nimport Filters from \"./../../components/filters\";\r\nimport Table from \"../../components/table\";\r\nimport useMain from \"./useMain\";\r\n\r\nconst Main = () => {\r\n  const {\r\n    search,\r\n    finalData,\r\n    handleInput,\r\n    handleDropDowns,\r\n    handleDeleteCountry,\r\n  } = useMain();\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      sx={{\r\n        gap: \"30px\",\r\n        width: \"80%\",\r\n        display: \"flex\",\r\n        margin: \"0 auto\",\r\n        padding: \"20px 0\",\r\n        minWidth: \"1200px\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      <Filters\r\n        search={search}\r\n        handleInput={handleInput}\r\n        handleDropDowns={handleDropDowns}\r\n      />\r\n      <Table countries={finalData} handleDeleteCountry={handleDeleteCountry} />\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"names":["_ref","size","options","label","handleDropDowns","_useState","useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","inputValue","setInputValue","_jsx","Typography","component","children","Autocomplete","onChange","_","newValue","onInputChange","newInputValue","sx","width","renderInput","params","TextField","_objectSpread","EDropType","search","handleInput","placeholder","e","_e$target","target","_jsxs","variant","fontWeight","display","alignItems","justifyContent","gap","Input","DropDown","regions","sortBy","countries","handleDeleteCountry","headers","TableContainer","Paper","TableM","minWidth","TableHead","background","TableRow","map","item","TableCell","visibility","toUpperCase","TableBody","row","_row$flag","_row$flag2","scope","country","region","population","area","src","flag","svg","alt","align","border","IconButton","onClick","CloseOutlined","base","process","REACT_APP_API_BASE_URL","publicApi","axios","baseURL","errorHandler","error","store","setLoading","console","log","message","interceptors","request","use","response","getAllCountries","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","get","sent","abrupt","data","stop","apply","arguments","setSearch","sortingField","setSortingField","_useState5","_useState6","setCountries","_useState7","_useState8","countriesCopy","setCountriesCopy","useEffect","formattedData","res","slice","length","_item$name","name","common","flags","prevData","finalData","_toConsumableArray","sort","a","b","filter","_item$country","_item$country$toLower","toLowerCase","includes","type","newCountries","field","_useMain","useMain","margin","padding","flexDirection","Filters","Table"],"sourceRoot":""}